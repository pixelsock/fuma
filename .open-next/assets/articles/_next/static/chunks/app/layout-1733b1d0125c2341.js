(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{18844:()=>{},24962:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PerformanceMonitor:()=>o});var r=n(78538),i=n(12115);function o(){return(0,i.useEffect)(function(){if(window.performance){var e=function(){var e=window.performance.getEntriesByType("navigation")[0];if(e){var t={domContentLoaded:e.domContentLoadedEventEnd-e.domContentLoadedEventStart,domComplete:e.domComplete-e.domInteractive,loadComplete:e.loadEventEnd-e.loadEventStart,firstPaint:0,firstContentfulPaint:0,largestContentfulPaint:0,tableRenderStart:0,tableRenderEnd:0,definitionPrefetchStart:0,definitionPrefetchEnd:0};window.performance.getEntriesByType("paint").forEach(function(e){"first-paint"===e.name?t.firstPaint=e.startTime:"first-contentful-paint"===e.name&&(t.firstContentfulPaint=e.startTime)});var n=new PerformanceObserver(function(e){var n=e.getEntries();t.largestContentfulPaint=n[n.length-1].startTime,console.group("\uD83D\uDE80 Performance Metrics"),console.log("DOM Content Loaded:",t.domContentLoaded,"ms"),console.log("DOM Complete:",t.domComplete,"ms"),console.log("Page Load Complete:",t.loadComplete,"ms"),console.log("First Paint:",t.firstPaint.toFixed(2),"ms"),console.log("First Contentful Paint:",t.firstContentfulPaint.toFixed(2),"ms"),console.log("Largest Contentful Paint:",t.largestContentfulPaint.toFixed(2),"ms"),console.groupEnd(),console.group("\uD83D\uDCCA Performance Targets"),Object.entries({firstContentfulPaint:1500,largestContentfulPaint:2500,domComplete:3e3}).forEach(function(e){var n=(0,r._)(e,2),i=n[0],o=n[1],s=t[i],a=s<=o;console.log("".concat(i,": ").concat(s.toFixed(2),"ms / ").concat(o,"ms"),a?"✅":"❌")}),console.groupEnd()});return n.observe({entryTypes:["largest-contentful-paint"]}),function(){return n.disconnect()}}};if("complete"!==document.readyState)return window.addEventListener("load",e),function(){return window.removeEventListener("load",e)};e()}},[]),(0,i.useEffect)(function(){var e=function(){performance.mark("table-render-start")},t=function(){performance.mark("table-render-end"),performance.measure("table-render","table-render-start","table-render-end");var e=performance.getEntriesByName("table-render")[0];e&&console.log("⚡ Table Render Time:",e.duration.toFixed(2),"ms")};return window.addEventListener("table-render-start",e),window.addEventListener("table-render-end",t),function(){window.removeEventListener("table-render-start",e),window.removeEventListener("table-render-end",t)}},[]),null}},32363:(e,t,n)=>{"use strict";n.d(t,{L:()=>h,p:()=>f});var r=n(97004),i=n(86447),o=n(693),s=n(60376),a=n(78538),c=n(39249),l=n(95155),d=n(12115),u=(0,d.createContext)(void 0);function f(){var e=(0,d.useContext)(u);if(!e)throw Error("useDefinitionData must be used within a DefinitionDataProvider");return e}function m(){return(m=(0,r._)(function(e){var t;return(0,c.YH)(this,function(n){switch(n.label){case 0:return[4,fetch("".concat("https://admin.charlotteudo.org","/items/definitions/").concat(e),{headers:{"Content-Type":"application/json"},cache:"force-cache"})];case 1:if(!(t=n.sent()).ok)throw Error("Failed to fetch definition ".concat(e));return[4,t.json()];case 2:return[2,n.sent().data]}})})).apply(this,arguments)}function h(e){var t,n=e.children,f=(0,a._)((0,d.useState)({}),2),h=f[0],p=f[1],v=(0,a._)((0,d.useState)({}),2),g=v[0],x=v[1],b=(0,a._)((0,d.useState)({}),2),j=b[0],y=b[1],N=(0,d.useRef)(new Set),w=(0,d.useCallback)((t=(0,r._)(function(e){var t,n,r;return(0,c.YH)(this,function(a){switch(a.label){case 0:if(h[e]||N.current.has(e))return[2];N.current.add(e),x(function(t){return(0,s._)((0,o._)({},t),(0,i._)({},e,!0))}),y(function(t){return(0,s._)((0,o._)({},t),(0,i._)({},e,null))}),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,function(e){return m.apply(this,arguments)}(e)];case 2:return t=a.sent(),p(function(n){return(0,s._)((0,o._)({},n),(0,i._)({},e,t))}),[3,5];case 3:return console.error(n=a.sent()),r=n instanceof Error?n.message:"Failed to load definition",y(function(t){return(0,s._)((0,o._)({},t),(0,i._)({},e,r))}),[3,5];case 4:return x(function(t){return(0,s._)((0,o._)({},t),(0,i._)({},e,!1))}),N.current.delete(e),[7];case 5:return[2]}})}),function(e){return t.apply(this,arguments)}),[h]),C=(0,d.useCallback)(function(e){e.forEach(function(e){h[e]||N.current.has(e)||w(e)})},[h,w]);return(0,l.jsx)(u.Provider,{value:{definitions:h,loading:g,errors:j,fetchDefinition:w,prefetchDefinitions:C},children:n})}},32888:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,93905,23)),Promise.resolve().then(n.bind(n,37936)),Promise.resolve().then(n.bind(n,24962)),Promise.resolve().then(n.t.bind(n,18844,23)),Promise.resolve().then(n.t.bind(n,65299,23))},37777:(e,t,n)=>{"use strict";n.d(t,{Bc:()=>l,ZI:()=>d});var r=n(693),i=n(60376),o=n(37414),s=n(95155);n(12115);var a=n(89613),c=n(53999);function l(e){var t=e.delayDuration,n=(0,o._)(e,["delayDuration"]);return(0,s.jsx)(a.Kq,(0,r._)({"data-slot":"tooltip-provider",delayDuration:void 0===t?0:t},n))}function d(e){var t=e.className,n=e.sideOffset,l=e.children,d=(0,o._)(e,["className","sideOffset","children"]);return(0,s.jsx)(a.ZL,{children:(0,s.jsxs)(a.UC,(0,i._)((0,r._)({"data-slot":"tooltip-content",sideOffset:void 0===n?0:n,className:(0,c.cn)("z-50 overflow-hidden rounded-md bg-[var(--color-fd-popover)] px-3 py-1.5 text-xs text-[var(--color-fd-popover-foreground)] shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t)},d),{children:[l,(0,s.jsx)(a.i3,{className:"fill-[var(--color-fd-popover)]"})]}))})}},37936:(e,t,n)=>{"use strict";n.d(t,{Provider:()=>g});var r=n(95155),i=n(5644),o=n(78538),s=n(12115),a=n(35695),c=n(47924),l=n(54416),d=n(57434),u=n(66474);function f(e,t){if(!t||!e)return e;var n=RegExp("(".concat(function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(t),")"),"gi");return e.replace(n,'<mark class="bg-fd-accent text-fd-accent-foreground px-1 rounded font-medium">$1</mark>')}function m(e){var t,n=(0,o._)((0,s.useState)(""),2),i=n[0],m=n[1],h=(0,o._)((0,s.useState)([]),2),p=h[0],v=h[1],g=(0,o._)((0,s.useState)(!1),2),x=g[0],b=g[1],j=(0,o._)((0,s.useState)("all"),2),y=j[0],N=j[1],w=(0,a.usePathname)(),C=(0,a.useRouter)(),E=(null==w?void 0:w.replace("/articles/","").split("/"))||[],P=E.join("/"),_=(null==(t=E[E.length-1])?void 0:t.split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" "))||"";(0,s.useEffect)(function(){var t=function(t){"k"===t.key&&(t.metaKey||t.ctrlKey)&&(t.preventDefault(),e.onOpenChange(!e.open)),"Escape"===t.key&&e.onOpenChange(!1)};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}},[e]),(0,s.useEffect)(function(){var e,t,n=i.trim();if(!n||n.length<2){v([]),b(!1);return}var r=null;return e=setTimeout(function(){b(!0)},200),t=setTimeout(function(){r=new AbortController;var e=new URLSearchParams({query:n});"current"===y&&P&&e.set("tag",P),fetch("".concat("/articles","/api/search?").concat(e.toString()),{signal:r.signal}).then(function(e){return e.json()}).then(function(e){v(Array.isArray(e)?e:[]),b(!1)}).catch(function(e){"AbortError"!==e.name&&(console.error("Search error:",e),b(!1))})},250),function(){clearTimeout(e),clearTimeout(t),r&&r.abort()}},[i,y,P]);var k=(0,s.useMemo)(function(){if(!p.length)return[];var e=new Map;p.forEach(function(t){var n=t.url.includes("#"),r=n?t.url.split("#")[0]:t.url;if(!e.has(r)){var i=p.find(function(e){return e.url===r&&e.isMainArticle});if(i)e.set(r,{article:i,sections:[],readTime:"2 min read"});else{var o={id:"main-".concat(r),title:t.articleTitle||t.title.split(" - ")[0]||"Unknown Article",description:t.description,content:"",url:r,tag:t.tag,articleTitle:t.articleTitle,articleSlug:t.articleSlug,isMainArticle:!0};e.set(r,{article:o,sections:[],readTime:"2 min read"})}}var s=e.get(r);if(n){s.sections.find(function(e){return e.id===t.id})||s.sections.push(t);var a=s.sections.length;s.readTime="".concat(Math.max(2,Math.ceil(.5*a))," min read")}});var t=Array.from(e.values()).sort(function(e,t){return t.sections.length!==e.sections.length?t.sections.length-e.sections.length:e.article.title.localeCompare(t.article.title)});return t.forEach(function(e){e.sections.sort(function(e,t){var n=e.url.split("#")[1]||"",r=t.url.split("#")[1]||"";return n.localeCompare(r)})}),t},[p]),I=function(t){e.onOpenChange(!1);var n=t;if(i){var r=(0,o._)(t.split("#"),2),s=r[0],a=r[1];n=a?"".concat(s,"?search=").concat(encodeURIComponent(i),"#").concat(a):"".concat(t,"?search=").concat(encodeURIComponent(i))}console.log("Navigating to URL with search:",n),C.push(n),m("")};return e.open?(0,r.jsx)("div",{className:"fixed inset-0 z-50 bg-black/50",onClick:function(){return e.onOpenChange(!1)},children:(0,r.jsx)("div",{className:"flex min-h-full items-start justify-center p-4 pt-[10vh]",children:(0,r.jsxs)("div",{className:"w-full max-w-2xl bg-fd-card border border-fd-border rounded-lg shadow-lg","data-search-dialog":!0,onClick:function(e){return e.stopPropagation()},children:[(0,r.jsxs)("div",{className:"flex items-center border-b border-fd-border px-4 py-3",children:[(0,r.jsx)(c.A,{className:"mr-3 h-4 w-4 text-fd-muted-foreground"}),(0,r.jsx)("input",{className:"flex-1 bg-transparent text-sm outline-none placeholder:text-fd-muted-foreground text-fd-foreground focus:ring-0 focus:border-none",placeholder:"Search documentation (min 2 characters)...",value:i,onChange:function(e){return m(e.target.value)},autoFocus:!0}),(0,r.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,r.jsx)("button",{className:"px-2 py-1 text-xs bg-fd-primary text-fd-primary-foreground rounded border border-fd-primary hover:bg-fd-primary/90 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring focus-visible:ring-offset-2",onClick:function(){},children:"Search"}),"current"===y&&_&&(0,r.jsxs)("button",{className:"px-2 py-1 text-xs bg-fd-muted text-fd-foreground rounded border border-fd-border flex items-center gap-1 hover:bg-fd-accent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring focus-visible:ring-offset-2",onClick:function(){return N("all")},children:["Search Article ",_,(0,r.jsx)(l.A,{className:"h-3 w-3"})]})]}),(0,r.jsx)("button",{className:"h-6 w-6 p-0 ml-2 rounded-md hover:bg-fd-accent flex items-center justify-center transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring focus-visible:ring-offset-2",onClick:function(){return e.onOpenChange(!1)},children:(0,r.jsx)(l.A,{className:"h-3 w-3"})})]}),(0,r.jsxs)("div",{className:"max-h-[400px] overflow-y-auto",children:[x&&(0,r.jsx)("div",{className:"py-8 text-center text-sm text-fd-muted-foreground",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,r.jsx)("div",{className:"animate-pulse",children:"\uD83D\uDD0D"}),"Searching..."]})}),!x&&i&&i.trim().length<2&&(0,r.jsx)("div",{className:"py-8 text-center text-sm text-fd-muted-foreground",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,r.jsx)("div",{children:"⌨️"}),"Type at least 2 characters to search"]})}),!x&&i&&i.trim().length>=2&&0===k.length&&(0,r.jsxs)("div",{className:"py-8 text-center text-sm text-fd-muted-foreground",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,r.jsx)("div",{children:"❌"}),'No results found for "',i.trim(),'"']}),(0,r.jsx)("div",{className:"text-xs",children:"Try different keywords or check your spelling"})]}),!x&&!i&&(0,r.jsxs)("div",{className:"py-8 text-center text-sm text-fd-muted-foreground",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,r.jsx)("div",{children:"\uD83D\uDCA1"}),"Start typing to search the documentation"]}),(0,r.jsx)("div",{className:"text-xs",children:"Search articles, sections, and content"})]}),!x&&k.map(function(e,t){var n;return(0,r.jsxs)("div",{className:"border-b border-fd-border last:border-0",children:[(0,r.jsx)("div",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("div",{className:"p-1.5 bg-fd-primary/10 rounded",children:(0,r.jsx)(d.A,{className:"h-3 w-3 text-fd-primary"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-fd-primary font-medium",children:[(0,r.jsx)("span",{children:"Article"}),e.sections.length>0&&(0,r.jsxs)("span",{className:"bg-fd-accent text-fd-accent-foreground px-1.5 py-0.5 rounded font-semibold",children:[e.sections.length," instances"]})]}),(0,r.jsx)("button",{onClick:function(){return I(e.article.url)},className:"block mt-1 text-left hover:text-fd-primary transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring focus-visible:ring-offset-2 rounded",children:(0,r.jsx)("h3",{className:"font-semibold text-base text-fd-foreground",dangerouslySetInnerHTML:{__html:f(e.article.title,i)}})}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-fd-muted-foreground mt-1",children:[(0,r.jsx)("span",{children:(n=e.article.tag)?({uncategorized:"Part I. Ordinance Introduction","part-i-ordinance-introduction":"Part I. Ordinance Introduction","part-ii-zoning-introduction":"Part II. Zoning Introduction","part-iii-neighborhood-zoning-districts":"Part III. Neighborhood Zoning Districts","part-iv-employment-zoning-districts":"Part IV. Employment Zoning Districts","part-v-centers-zoning-districts":"Part V. Centers Zoning Districts","part-vi-special-purpose-overlay-zoning-districts":"Part VI. Special Purpose & Overlay Districts","part-vii-uses":"Part VII. Uses","part-viii-general-development-zoning-standards":"Part VIII. General Development Standards","part-ix-stormwater":"Part IX. Stormwater","part-x-subdivision-streets-other-infrastructure":"Part X. Subdivision & Infrastructure","part-xi-administration":"Part XI. Administration","part-xii-nonconformities":"Part XII. Nonconformities","part-xiii-enforcement":"Part XIII. Enforcement"})[n.split("/")[0]]||"Part I. Ordinance Introduction":"Unknown Category"}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("button",{onClick:function(){return I(e.article.url)},className:"text-fd-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring focus-visible:ring-offset-2 rounded",children:"View article →"})]})]})]})}),e.sections.map(function(e,t){var n=e.title.includes(" - ")?e.title.split(" - ").slice(1).join(" - "):e.title,o="".concat(Math.max(2,t+2)," min read");return(0,r.jsx)("div",{className:"px-4 py-3 ml-12 border-l-2 border-l-fd-primary",children:(0,r.jsx)("button",{onClick:function(){return I(e.url)},className:"w-full text-left hover:bg-fd-accent/50 p-2 -m-2 rounded transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring focus-visible:ring-inset",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("div",{className:"font-medium text-sm text-fd-foreground",dangerouslySetInnerHTML:{__html:f(n,i)}}),e.content&&(0,r.jsx)("div",{className:"text-sm text-fd-muted-foreground mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:f(e.content.substring(0,120)+"...",i)}})]}),(0,r.jsx)("div",{className:"text-xs text-fd-muted-foreground ml-3 flex-shrink-0 bg-fd-muted px-2 py-1 rounded",children:o})]})})},e.id)})]},e.article.url)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between border-t border-fd-border px-4 py-3 bg-fd-muted/30",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("span",{className:"text-sm text-fd-muted-foreground",children:"Filter:"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{value:y,onChange:function(e){return N(e.target.value)},className:"appearance-none text-sm border border-fd-border rounded-md px-3 py-1.5 pr-8 bg-fd-card hover:bg-fd-accent cursor-pointer transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring focus-visible:ring-offset-2 text-fd-foreground",children:[(0,r.jsx)("option",{value:"all",children:"All Articles"}),(null==w?void 0:w.startsWith("/articles/"))&&"/articles"!==w&&_&&(0,r.jsxs)("option",{value:"current",children:["Article ",_]})]}),(0,r.jsx)(u.A,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none text-fd-muted-foreground"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-xs text-fd-muted-foreground",children:[(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)("kbd",{className:"inline-flex h-5 min-w-[20px] items-center justify-center rounded border border-fd-border bg-fd-card px-1.5 font-mono text-[10px] font-medium",children:"↵"}),"to select"]}),(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)("kbd",{className:"inline-flex h-5 min-w-[20px] items-center justify-center rounded border border-fd-border bg-fd-card px-1.5 font-mono text-[10px] font-medium",children:"Esc"}),"to close"]})]})]})]})})}):null}var h=n(32363);function p(){var e=(0,h.p)().prefetchDefinitions,t=(0,s.useRef)(new Set),n=(0,s.useRef)(null);return(0,s.useEffect)(function(){var r,i=function(){var n=document.querySelectorAll("a.definition-link[data-definition-id]"),r=[];n.forEach(function(e){var n=e.getAttribute("data-definition-id");if(n&&!t.current.has(n)){var i=e.getBoundingClientRect();i.top<window.innerHeight&&i.bottom>0&&(r.push(n),t.current.add(n))}}),r.length>0&&e(r)};i(),n.current=new IntersectionObserver(function(n){var r=[];n.forEach(function(e){if(e.isIntersecting){var n=e.target.getAttribute("data-definition-id");n&&!t.current.has(n)&&(r.push(n),t.current.add(n))}}),r.length>0&&e(r)},{rootMargin:"200px",threshold:0}),document.querySelectorAll("a.definition-link[data-definition-id]").forEach(function(e){var t;null==(t=n.current)||t.observe(e)});var o=function(){clearTimeout(r),r=setTimeout(i,100)};return window.addEventListener("scroll",o,{passive:!0}),function(){var e;null==(e=n.current)||e.disconnect(),window.removeEventListener("scroll",o),clearTimeout(r)}},[e]),null}var v=n(37777);function g(e){var t=e.children;return(0,r.jsxs)(h.L,{children:[(0,r.jsx)(i.u4,{search:{SearchDialog:m},theme:{enabled:!0,defaultTheme:"system",themes:["light","dark","system"],storageKey:"charlotte-theme",attribute:"class",enableColorScheme:!0,disableTransitionOnChange:!1},children:(0,r.jsx)(v.Bc,{children:t})}),(0,r.jsx)(p,{})]})}},53999:(e,t,n)=>{"use strict";n.d(t,{cn:()=>o});var r=n(52596),i=n(39688);function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.QP)((0,r.$)(t))}},93905:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[7992,8858,1006,4373,4244,3013,1623,4184,8441,1684,7358],()=>t(32888)),_N_E=e.O()}]);